{"ast":null,"code":"var _jsxFileName = \"F:\\\\english-chat\\\\Frontend\\\\src\\\\components\\\\ChatMain.js\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport \"../styles/ChatMessage.css\";\nimport \"../styles/ChatInput.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatMain() {\n  _s();\n  const {\n    id: conversationId\n  } = useParams();\n  const [text, setText] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [popover, setPopover] = useState(null);\n  const listRef = useRef(null);\n  const token = localStorage.getItem(\"accessToken\");\n\n  // Tá»± Ä‘á»™ng cuá»™n xuá»‘ng cuá»‘i khi cÃ³ tin nháº¯n má»›i\n  useEffect(() => {\n    var _listRef$current;\n    (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : _listRef$current.scrollTo({\n      top: listRef.current.scrollHeight,\n      behavior: \"smooth\"\n    });\n  }, [messages, conversationId]);\n  useEffect(() => {\n    if (!conversationId || !token) return;\n    axios.get(`http://localhost:3030/api/chat/messages/${conversationId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => setMessages(res.data)).catch(err => console.error(\"Load messages error:\", err));\n  }, [conversationId, token]);\n  const handleSend = async e => {\n    e.preventDefault();\n    const userText = text.trim();\n    if (!userText) return;\n    const now = new Date().toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\"\n    });\n    const tempId = Date.now();\n\n    // ThÃªm user message\n    const newUserMsg = {\n      id: tempId,\n      text: userText,\n      isUser: true,\n      timestamp: now,\n      corrections: []\n    };\n    setMessages(prev => [...prev, newUserMsg]);\n    setText(\"\");\n    setIsTyping(true);\n    try {\n      const [chatRes, grammarRes] = await Promise.all([fetch(\"http://localhost:3030/api/chat\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          conversationId,\n          text: userText\n        })\n      }), fetch(\"http://localhost:3030/api/grammar\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          text: userText\n        })\n      })]);\n      const chatData = await chatRes.json();\n      const grammarData = await grammarRes.json();\n\n      // Gáº¯n lá»—i ngá»¯ phÃ¡p vÃ o message user\n      setMessages(prev => prev.map(m => {\n        var _grammarData$correcti;\n        return m.id === tempId ? {\n          ...m,\n          corrections: ((_grammarData$correcti = grammarData.corrections) === null || _grammarData$correcti === void 0 ? void 0 : _grammarData$correcti.map((c, i) => ({\n            id: i + 1,\n            original: c.original,\n            suggestion: c.suggestion,\n            reason: c.reason,\n            label: c.label,\n            applied: false\n          }))) || []\n        } : m;\n      }));\n\n      // Pháº£n há»“i cá»§a AI\n      if (chatData.botMsg) {\n        setMessages(prev => [...prev, {\n          id: chatData.botMsg.id,\n          text: chatData.botMsg.content,\n          isUser: false,\n          timestamp: new Date(chatData.botMsg.createdAt).toLocaleTimeString([], {\n            hour: \"2-digit\",\n            minute: \"2-digit\"\n          })\n        }]);\n      } else if (chatData.reply) {\n        // fallback khi chá»‰ cÃ³ reply\n        setMessages(prev => [...prev, {\n          id: tempId + 1,\n          text: chatData.reply,\n          isUser: false,\n          timestamp: now\n        }]);\n      }\n    } catch (err) {\n      console.error(\"Error contacting API:\", err);\n      setMessages(prev => [...prev, {\n        id: tempId + 1,\n        text: \"Demo pháº£n há»“i cá»§a AI\",\n        isUser: false,\n        timestamp: new Date().toLocaleTimeString([], {\n          hour: \"2-digit\",\n          minute: \"2-digit\"\n        })\n      }]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n  const applyCorrection = (msgId, corr) => {\n    setMessages(prev => prev.map(m => {\n      if (m.id !== msgId) return m;\n      const regex = new RegExp(`\\\\b${escapeRegex(corr.original)}\\\\b`, \"i\");\n      const newText = m.text.replace(regex, corr.suggestion);\n      const updatedCorrections = m.corrections.map(c => c.id === corr.id ? {\n        ...c,\n        applied: true\n      } : c);\n      return {\n        ...m,\n        text: newText,\n        corrections: updatedCorrections\n      };\n    }));\n    setPopover(null);\n  };\n  const handleWordClick = (e, msgId, corr) => {\n    const rect = e.target.getBoundingClientRect();\n    const popoverWidth = 260;\n    const popoverHeight = 140;\n    let x = rect.left;\n    let y = rect.bottom + window.scrollY;\n    if (x + popoverWidth > window.innerWidth - 20) x = window.innerWidth - popoverWidth - 20;\n    if (y + popoverHeight > window.innerHeight + window.scrollY) y = rect.top + window.scrollY - popoverHeight - 10;\n    setPopover({\n      x,\n      y,\n      corr,\n      msgId\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-main\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: listRef,\n      className: \"messages-list\",\n      children: [messages.map(m => {\n        var _m$corrections;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message ${m.isUser ? \"user-message\" : \"ai-message\"}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: m.isUser ? \"U\" : \"AI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-bubble\",\n              children: m.isUser && ((_m$corrections = m.corrections) === null || _m$corrections === void 0 ? void 0 : _m$corrections.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"highlighted-text\",\n                children: renderTextWithHighlights(m, handleWordClick)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                children: m.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-timestamp\",\n              children: m.timestamp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)]\n        }, m.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this);\n      }), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message ai-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-avatar\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"AI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-bubble\",\n            children: \"Typing\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), popover && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grammar-popover\",\n      style: {\n        top: popover.y,\n        left: popover.x\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popover-header\",\n        children: popover.corr.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popover-body\",\n        children: popover.corr.reason\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popover-suggest\",\n        children: [\"\\uD83D\\uDC49 \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: popover.corr.suggestion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => applyCorrection(popover.msgId, popover.corr),\n        children: \"Apply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPopover(null),\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"chat-input-form\",\n      onSubmit: handleSend,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"message-input\",\n          type: \"text\",\n          placeholder: \"Type your message...\",\n          value: text,\n          onChange: e => setText(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"send-btn\",\n          type: \"submit\",\n          disabled: !text.trim(),\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            width: \"16\",\n            height: \"16\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"m22 2-7 20-4-9-9-4Z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M22 2 11 13\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatMain, \"74FfDqqwRXzYQH6MYvfwK5KIqhk=\", false, function () {\n  return [useParams];\n});\n_c = ChatMain;\nfunction renderTextWithHighlights(msg, onClick) {\n  let text = msg.text;\n  msg.corrections.forEach(corr => {\n    const regex = new RegExp(`(${escapeRegex(corr.original)})`, \"gi\");\n    text = text.replace(regex, `<span class=\"${corr.applied ? \"word-fixed\" : \"word-error\"}\" data-id=\"${corr.id}\">$1</span>`);\n  });\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    dangerouslySetInnerHTML: {\n      __html: text\n    },\n    onClick: e => {\n      const span = e.target.closest(\"span[data-id]\");\n      if (!span) return;\n      const id = parseInt(span.getAttribute(\"data-id\"));\n      const corr = msg.corrections.find(c => c.id === id);\n      if (corr) onClick(e, msg.id, corr);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n}\nfunction escapeRegex(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nvar _c;\n$RefreshReg$(_c, \"ChatMain\");","map":{"version":3,"names":["useState","useRef","useEffect","axios","useParams","jsxDEV","_jsxDEV","ChatMain","_s","id","conversationId","text","setText","isTyping","setIsTyping","messages","setMessages","popover","setPopover","listRef","token","localStorage","getItem","_listRef$current","current","scrollTo","top","scrollHeight","behavior","get","headers","Authorization","then","res","data","catch","err","console","error","handleSend","e","preventDefault","userText","trim","now","Date","toLocaleTimeString","hour","minute","tempId","newUserMsg","isUser","timestamp","corrections","prev","chatRes","grammarRes","Promise","all","fetch","method","body","JSON","stringify","chatData","json","grammarData","map","m","_grammarData$correcti","c","i","original","suggestion","reason","label","applied","botMsg","content","createdAt","reply","applyCorrection","msgId","corr","regex","RegExp","escapeRegex","newText","replace","updatedCorrections","handleWordClick","rect","target","getBoundingClientRect","popoverWidth","popoverHeight","x","left","y","bottom","window","scrollY","innerWidth","innerHeight","className","children","ref","_m$corrections","fileName","_jsxFileName","lineNumber","columnNumber","length","renderTextWithHighlights","style","onClick","onSubmit","type","placeholder","value","onChange","disabled","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","_c","msg","forEach","dangerouslySetInnerHTML","__html","span","closest","parseInt","getAttribute","find","str","$RefreshReg$"],"sources":["F:/english-chat/Frontend/src/components/ChatMain.js"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport \"../styles/ChatMessage.css\";\nimport \"../styles/ChatInput.css\";\n\nexport default function ChatMain() {\n  const { id: conversationId } = useParams();\n  const [text, setText] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [popover, setPopover] = useState(null);\n  const listRef = useRef(null);\n  const token = localStorage.getItem(\"accessToken\");\n\n  // Tá»± Ä‘á»™ng cuá»™n xuá»‘ng cuá»‘i khi cÃ³ tin nháº¯n má»›i\n  useEffect(() => {\n    listRef.current?.scrollTo({\n      top: listRef.current.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }, [messages, conversationId]);\n\n  useEffect(() => {\n    if (!conversationId || !token) return;\n\n    axios\n      .get(`http://localhost:3030/api/chat/messages/${conversationId}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then((res) => setMessages(res.data))\n      .catch((err) => console.error(\"Load messages error:\", err));\n  }, [conversationId, token]);\n\n  const handleSend = async (e) => {\n    e.preventDefault();\n    const userText = text.trim();\n    if (!userText) return;\n\n    const now = new Date().toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\n    const tempId = Date.now();\n\n    // ThÃªm user message\n    const newUserMsg = {\n      id: tempId,\n      text: userText,\n      isUser: true,\n      timestamp: now,\n      corrections: [],\n    };\n    setMessages((prev) => [...prev, newUserMsg]);\n    setText(\"\");\n    setIsTyping(true);\n\n    try {\n      const [chatRes, grammarRes] = await Promise.all([\n        fetch(\"http://localhost:3030/api/chat\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify({ conversationId, text: userText }),\n        }),\n        fetch(\"http://localhost:3030/api/grammar\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ text: userText }),\n        }),\n      ]);\n\n      const chatData = await chatRes.json();\n      const grammarData = await grammarRes.json();\n\n      // Gáº¯n lá»—i ngá»¯ phÃ¡p vÃ o message user\n      setMessages((prev) =>\n        prev.map((m) =>\n          m.id === tempId\n            ? {\n              ...m,\n              corrections:\n                grammarData.corrections?.map((c, i) => ({\n                  id: i + 1,\n                  original: c.original,\n                  suggestion: c.suggestion,\n                  reason: c.reason,\n                  label: c.label,\n                  applied: false,\n                })) || [],\n            }\n            : m\n        )\n      );\n\n      // Pháº£n há»“i cá»§a AI\n      if (chatData.botMsg) {\n        setMessages((prev) => [\n          ...prev,\n          {\n            id: chatData.botMsg.id,\n            text: chatData.botMsg.content,\n            isUser: false,\n            timestamp: new Date(chatData.botMsg.createdAt).toLocaleTimeString([], {\n              hour: \"2-digit\",\n              minute: \"2-digit\",\n            }),\n          },\n        ]);\n      } else if (chatData.reply) {\n        // fallback khi chá»‰ cÃ³ reply\n        setMessages((prev) => [\n          ...prev,\n          {\n            id: tempId + 1,\n            text: chatData.reply,\n            isUser: false,\n            timestamp: now,\n          },\n        ]);\n      }\n    } catch (err) {\n      console.error(\"Error contacting API:\", err);\n      setMessages((prev) => [\n        ...prev,\n        {\n          id: tempId + 1,\n          text: \"Demo pháº£n há»“i cá»§a AI\",\n          isUser: false,\n          timestamp: new Date().toLocaleTimeString([], {\n            hour: \"2-digit\",\n            minute: \"2-digit\",\n          }),\n        },\n      ]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const applyCorrection = (msgId, corr) => {\n    setMessages((prev) =>\n      prev.map((m) => {\n        if (m.id !== msgId) return m;\n\n        const regex = new RegExp(`\\\\b${escapeRegex(corr.original)}\\\\b`, \"i\");\n        const newText = m.text.replace(regex, corr.suggestion);\n\n        const updatedCorrections = m.corrections.map((c) =>\n          c.id === corr.id ? { ...c, applied: true } : c\n        );\n\n        return { ...m, text: newText, corrections: updatedCorrections };\n      })\n    );\n    setPopover(null);\n  };\n\n  const handleWordClick = (e, msgId, corr) => {\n    const rect = e.target.getBoundingClientRect();\n    const popoverWidth = 260;\n    const popoverHeight = 140;\n    let x = rect.left;\n    let y = rect.bottom + window.scrollY;\n\n    if (x + popoverWidth > window.innerWidth - 20)\n      x = window.innerWidth - popoverWidth - 20;\n    if (y + popoverHeight > window.innerHeight + window.scrollY)\n      y = rect.top + window.scrollY - popoverHeight - 10;\n\n    setPopover({ x, y, corr, msgId });\n  };\n\n  return (\n    <div className=\"chat-main\">\n      <div ref={listRef} className=\"messages-list\">\n        {messages.map((m) => (\n          <div key={m.id} className={`message ${m.isUser ? \"user-message\" : \"ai-message\"}`}>\n            <div className=\"message-avatar\"><span>{m.isUser ? \"U\" : \"AI\"}</span></div>\n            <div className=\"message-content\">\n              <div className=\"message-bubble\">\n                {m.isUser && m.corrections?.length > 0 ? (\n                  <div className=\"highlighted-text\">\n                    {renderTextWithHighlights(m, handleWordClick)}\n                  </div>\n                ) : (\n                  <span>{m.text}</span>\n                )}\n              </div>\n              <div className=\"message-timestamp\">{m.timestamp}</div>\n            </div>\n          </div>\n        ))}\n\n        {isTyping && (\n          <div className=\"message ai-message\">\n            <div className=\"message-avatar\"><span>AI</span></div>\n            <div className=\"message-content\">\n              <div className=\"message-bubble\">Typingâ€¦</div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {popover && (\n        <div className=\"grammar-popover\" style={{ top: popover.y, left: popover.x }}>\n          <div className=\"popover-header\">{popover.corr.label}</div>\n          <div className=\"popover-body\">{popover.corr.reason}</div>\n          <div className=\"popover-suggest\">\n            ðŸ‘‰ <b>{popover.corr.suggestion}</b>\n          </div>\n          <button onClick={() => applyCorrection(popover.msgId, popover.corr)}>Apply</button>\n          <button onClick={() => setPopover(null)}>Close</button>\n        </div>\n      )}\n\n      <form className=\"chat-input-form\" onSubmit={handleSend}>\n        <div className=\"input-container\">\n          <input\n            className=\"message-input\"\n            type=\"text\"\n            placeholder=\"Type your message...\"\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n          />\n          <button className=\"send-btn\" type=\"submit\" disabled={!text.trim()}>\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            >\n              <path d=\"m22 2-7 20-4-9-9-4Z\" />\n              <path d=\"M22 2 11 13\" />\n            </svg>\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nfunction renderTextWithHighlights(msg, onClick) {\n  let text = msg.text;\n\n  msg.corrections.forEach((corr) => {\n    const regex = new RegExp(`(${escapeRegex(corr.original)})`, \"gi\");\n    text = text.replace(\n      regex,\n      `<span class=\"${corr.applied ? \"word-fixed\" : \"word-error\"\n      }\" data-id=\"${corr.id}\">$1</span>`\n    );\n  });\n\n  return (\n    <span\n      dangerouslySetInnerHTML={{ __html: text }}\n      onClick={(e) => {\n        const span = e.target.closest(\"span[data-id]\");\n        if (!span) return;\n        const id = parseInt(span.getAttribute(\"data-id\"));\n        const corr = msg.corrections.find((c) => c.id === id);\n        if (corr) onClick(e, msg.id, corr);\n      }}\n    />\n  );\n}\n\nfunction escapeRegex(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}